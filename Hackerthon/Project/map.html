<!DOCTYPE html>

<html>

    <head>

        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
        <link rel="stylesheet" href="./map.css">
        <title>쓰레기통 지도</title>

        <style>

            <!--

                .supported {

                    width:300px; 

                    border:1px solid #e3e3e3; 

                    padding : 5px; 

                    font-family : Arial; 

                    font-size:0.9em; 

                    line-height:160%;

                }

            --> 

        </style> 

        <script type="text/javascript"

            src="https://maps.google.com/maps/api/js?sensor=false"></script>

        <script language="javascript"> 

            // 위치확인 

            function locationTest() {

                navigator.geolocation.getCurrentPosition(handleLocation, handleError); 

            }

            // 위치콜백 

            function handleLocation(position)  {

                var outDiv = document.getElementById("result"); 

 

                // 위치정보 만들고 

                var latlng = new google.maps.LatLng(position.coords.latitude, 

                        position.coords.longitude);     

 

                // 지도 옵션 

                var mapOption = {

                    zoom: 13,

                    center: latlng,

                    mapTypeControl: false,

                    mapTypeId: google.maps.MapTypeId.ROADMAP

                };

 

                // 지도만들고 

                var map = new google.maps.Map(

                        document.getElementById("mapCanvas"), mapOption);

             

                // 위치표시 

                new google.maps.Marker({position : latlng, map : map, title : "here!!"});

            } 

            // 에러콜백 

            function handleError(err) {

                var outDiv = document.getElementById("result");

                 

                if(err.code == 1) {

                    outDiv.innerHTML = "사용자가 위치정보 공유를 거부함";

                }

                else {

                    outDiv.innerHTML = "에러발생 : " + err.code;

                }

            } 

        </script> 

    </head>

    <body onload="javascript:locationTest();">
        <div>
            <button class="prevBtn" onclick="history.back()">PREV</button>
        </div>
        <div id="mapCanvas" style="width:482px; height:902px; border:0px solid #e3e3e3">
        </div> 

    </body>

<html>